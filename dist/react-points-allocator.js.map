{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap eaeafdc3e6ac21c00b20","webpack:///./src/PointsAllocator.jsx","webpack:///external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack:///./src/Allocator.jsx","webpack:///./utils/arrayForm.js","webpack:///./utils/sum.js","webpack:///./src/Option.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oE;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS,eAAe,UAAU;;AAElC;AACA;;AAEA,yB;AACA,IAAG;;AAEH;AACA;AACA,sBAAqB,8BAA8B;AACnD,wBAAuB,oBAAoB;AAC3C,6BAA4B,yBAAyB;AACrD,+BAA8B;AAC9B;AACA,4CAA2C;AAC3C;AACA,oBAAmB;AACnB;AACA;AACA;AACA,qDAAoD;AACpD;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,8E;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACpFA,gD;;;;;;;;;ACAA;AACA;AACA;;AAEA;;AAEA;;AAEA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,QAAO,eAAe;AACtB;AACA;AACA;AACA;AACA,sBAAqB,GAAG;AACxB;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,UAAU;AACtC,iDAAgD,eAAe;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8DAA6D;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;;;;ACjFA;AACA,8CAA6C,oBAAoB;AACjE;;AAEA;;;;;;;;;;ACJA;AACA;AACA;;AAEA;;AAEA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,qBAAoB,8BAA8B;AAClD,2BAA0B,0BAA0B;AACpD,0BAAyB;AACzB;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sD;AACA;AACA;AACA,EAAC;;AAED","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PointsAllocator\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"PointsAllocator\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eaeafdc3e6ac21c00b20\n **/","/**\n* @jsx React.DOM\n*/\n\n'use strict';\n\nvar React = require('react');\n\nvar Allocator = require('./Allocator.jsx');\nvar arrayForm = require('../utils/arrayForm.js');\nvar sum = require('../utils/sum.js');\n\n// Define Array.form in case of it isn't supported by the browser yet\narrayForm();\n\nvar PointsAllocator = React.createClass({displayName: 'PointsAllocator',\n  propTypes: {\n    points: React.PropTypes.number.isRequired,\n    options: React.PropTypes.array.isRequired,\n    rangesSize: React.PropTypes.number,\n    initialRanges: React.PropTypes.array,\n    onChange: React.PropTypes.func\n  },\n\n  componentWillMount:function() {\n    if(!this.props.rangesSize){\n      this.props.rangesSize = this.props.points;\n    }\n  },\n\n  getInitialState:function() {\n    var initialState = {};\n    var rangesSum;\n\n    if(!!this.props.initialRanges){\n      rangesSum = sum(this.props.initialRanges);\n\n      initialState.rangePoints = this.props.initialRanges;\n      initialState.remainingPoints = this.props.points - rangesSum; \n    }else{\n      // Generate a Array of zeroes with size equal to the number of options\n      initialState.rangePoints = Array.from({\n          length: this.props.options.length\n        }, function()  {return 0;} );\n\n      initialState.remainingPoints = this.props.points;\n    }\n\n    return initialState; \n  },\n\n  render:function() {\n    return (\n      React.DOM.div({className: \"points-allocator\"}, \n        React.DOM.div({className: \"points\"}, \n          React.DOM.header({className: \"points-text\"}, this.state.remainingPoints), \n          React.DOM.progress({className: \"points-progress\", \n                    value: this.state.remainingPoints, \n                    max: this.props.points})\n        ), \n        Allocator({remainingPoints: this.state.remainingPoints, \n                   rangePoints: this.state.rangePoints, \n                   options: this.props.options, \n                   onChange: this._onRangeChange, \n                   maxPoints: this.props.rangesSize})\n      )\n    );\n  },\n\n  _onRangeChange:function(rangeKey, value) {\n    var newState = this.state;\n\n    newState.rangePoints[rangeKey] = value;\n    newState.remainingPoints = this.props.points - sum(newState.rangePoints); \n\n    this.setState(newState);\n\n    if(this.props.onChange){\n      this.props.onChange(newState);\n    }\n  }\n\n});\n\nmodule.exports = PointsAllocator;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/PointsAllocator.jsx\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * @jsx React.DOM\n */\n\nvar React = require('react');\n\nvar Option = require('./Option.jsx');\n\nvar Allocator = React.createClass({displayName: 'Allocator',\n  propTypes: {\n    options: React.PropTypes.array.isRequired,\n    remainingPoints: React.PropTypes.number.isRequired,\n    maxPoints: React.PropTypes.number.isRequired,\n    rangePoints: React.PropTypes.array.isRequired,\n    onChange: React.PropTypes.func\n  },\n\n  render:function() {\n    var optionsDom = this.props.options.map(function(option, i)  \n      {return Option({option: option, \n              remainingPoints: this.props.remainingPoints, \n              onChange: this.props.onChange, \n              maxPoints: this.props.maxPoints, \n              points: this.props.rangePoints[i], \n              key: i});}.bind(this)\n    );\n\n    return (\n      React.DOM.ul({className: \"allocator\"}, \n        optionsDom\n      )\n    );\n  }\n\n});\n\nmodule.exports = Allocator;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Allocator.jsx\n ** module id = 2\n ** module chunks = 0\n **/","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from\nvar arrayForm = function(){\n  if (!Array.from) {\n    Array.from = (function () {\n      var toStr = Object.prototype.toString;\n      var isCallable = function (fn) {\n        return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n      };\n      var toInteger = function (value) {\n        var number = Number(value);\n        if (isNaN(number)) { return 0; }\n        if (number === 0 || !isFinite(number)) { return number; }\n        return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n      };\n      var maxSafeInteger = Math.pow(2, 53) - 1;\n      var toLength = function (value) {\n        var len = toInteger(value);\n        return Math.min(Math.max(len, 0), maxSafeInteger);\n      };\n\n      // The length property of the from method is 1.\n      return function from(arrayLike/*, mapFn, thisArg */) {\n        // 1. Let C be the this value.\n        var C = this;\n\n        // 2. Let items be ToObject(arrayLike).\n        var items = Object(arrayLike);\n\n        // 3. ReturnIfAbrupt(items).\n        if (arrayLike == null) {\n          throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");\n        }\n\n        // 4. If mapfn is undefined, then let mapping be false.\n        var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n        var T;\n        if (typeof mapFn !== 'undefined') {\n          // 5. else      \n          // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n          if (!isCallable(mapFn)) {\n            throw new TypeError('Array.from: when provided, the second argument must be a function');\n          }\n\n          // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n          if (arguments.length > 2) {\n            T = arguments[2];\n          }\n        }\n\n        // 10. Let lenValue be Get(items, \"length\").\n        // 11. Let len be ToLength(lenValue).\n        var len = toLength(items.length);\n\n        // 13. If IsConstructor(C) is true, then\n        // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.\n        // 14. a. Else, Let A be ArrayCreate(len).\n        var A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n        // 16. Let k be 0.\n        var k = 0;\n        // 17. Repeat, while k < len… (also steps a - h)\n        var kValue;\n        while (k < len) {\n          kValue = items[k];\n          if (mapFn) {\n            A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\n          } else {\n            A[k] = kValue;\n          }\n          k += 1;\n        }\n        // 18. Let putStatus be Put(A, \"length\", len, true).\n        A.length = len;\n        // 20. Return A.\n        return A;\n      };\n    }());\n  }\n}\n\nmodule.exports = arrayForm;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/arrayForm.js\n ** module id = 3\n ** module chunks = 0\n **/","var sum = function(array){\n  return array.reduce(function(prev, curr)  {return prev + curr;}, 0);\n};\n\nmodule.exports = sum;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/sum.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * @jsx React.DOM\n */\n\nvar React = require('react');\n\nvar Option = React.createClass({displayName: 'Option',\n  propTypes: {\n    points: React.PropTypes.number,\n    option: React.PropTypes.string.isRequired,\n    remainingPoints: React.PropTypes.number,\n    maxPoints: React.PropTypes.number.isRequired,\n    onChange: React.PropTypes.func\n  },\n\n  render:function() {\n    return (\n      React.DOM.li({className: \"allocator-option\"}, \n        React.DOM.header({className: \"option-title\"}, this.props.option), \n        React.DOM.input({className: \"option-range\", type: \"range\", \n               min: \"0\", \n               max: this.props.maxPoints, \n               value: this.props.points, \n               onChange: this._notifyChange})\n      )\n    );\n  },\n\n  _notifyChange:function(e) {\n    var newPoints = parseInt(e.currentTarget.value);\n\n    // Don't let use more points that those that are available\n    if(newPoints - this.props.points > this.props.remainingPoints){\n      newPoints = this.props.points + this.props.remainingPoints;\n    }\n\n    if(this.props.onChange){\n      this.props.onChange(this.props.key, newPoints); \n    }\n  }\n});\n\nmodule.exports = Option;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Option.jsx\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"react-points-allocator.js"}